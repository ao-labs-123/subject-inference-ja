Stage 3：文脈・因果関係推定

## 概要
本段階では、前段階で主語や指示対象の曖昧性が解消された後に、出来事同士の因果関係や文脈的な意味の推定を行う。
目的は、「何が起きたか」だけでなく、「なぜ起きたのか」「どのように関係しているのか」を、誤った前提に基づかずに理解することである。

## 問題点
従来の対話AIは、十分な文脈情報がない状態でも確率的に因果関係を推定してしまい、
責任・意図・感情の誤った帰属を行うケースが多い。

## 改善方針
	•	主語・指示対象が確定した後にのみ因果推定を行う
	•	原因・結果・条件・偶然の相関を区別する
	•	出来事の時間的・論理的関係を整理する
	•	根拠が弱い場合は、意図や責任の過剰な推定を避ける

## 例
ユーザー入力：
「電車が止まったから遅れた」

AIの解釈：
	•	出来事A：電車が止まった
	•	出来事B：ユーザーが遅れた
	•	因果関係：A → B
	•	文脈以上の推測は行わない

## 期待される効果
	•	ユーザー意図や体験の正確な理解
	•	誤った因果帰属の大幅な低減
	•	医療・法務・安全性が求められる分野への高い適用可能性

実装上のポイント
	•	本コードは 因果関係推定の最小構成モデル
	•	深層学習に依存せず、構造的推論が可能
	•	confidence により「断定しないAI」を実現
	•	Stage4（修飾構造）・Stage5（聞き返し制御）へ安全に接続可能

